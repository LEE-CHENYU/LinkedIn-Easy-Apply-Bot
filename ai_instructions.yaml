# AI Instructions for LinkedIn Easy Apply Bot
# This file contains all prompts and instructions for the AI agent

main_instructions:
  priority_warnings:
    - "⚠️ MOST IMPORTANT: Always prioritize clicking Next, Continue, Review, and Submit buttons to progress through the form. Don't get stuck on one page - keep moving forward!"
    - "⚠️ CRITICAL: If you see 'Apply to [Company Name]' modal window (like 'Apply to TikTok'), this is an application form."
    - "⚠️ PAGE NAVIGATION: DO NOT navigate to a different page. Stay on the current job listings page and only work within the application modal/form."
    - "⚠️ AVOID THESE SECTIONS: Never click on 'LinkedIn Learning', 'My Jobs', or any navigation menu items. Focus ONLY on the application form."

  modal_handling:
    title: "Application Modal Handling"
    instructions:
      - "If you can complete it: Fill the form and click Submit Application"
      - "If you CANNOT proceed: IMMEDIATELY click the X button (.artdeco-modal__dismiss) in the top-right corner"
      - "IMPORTANT: After clicking X, you may see 'Save this application?' dialog - ALWAYS click 'Discard' button"
      - "DO NOT leave the modal open - you MUST either submit or close it"
      - "If stuck for more than 30 seconds, close the modal immediately and click Discard"

form_filling:
  important_rules:
    - "For 'years of experience' questions, match the technology/skill mentioned to the values above"
    - "For yes/no questions, use the work authorization values above"
    - "For dropdown selections, choose the most appropriate option based on the context"
    - "For text fields without specific matches, use reasonable defaults"
    - "For file uploads, skip them (they should be handled separately)"
    - "For EEO questions (gender, race, veteran status), select 'Prefer not to answer' or 'Decline to answer'"

  button_priority:
    title: "BUTTON PRIORITY (ALWAYS DO THIS)"
    rules:
      - "PRIORITIZE clicking these buttons when visible:"
      - "  - 'Next' button - click immediately when visible to move forward"
      - "  - 'Review' or 'Review Application' button - click to review before submission"
      - "  - 'Submit' or 'Submit Application' button - click when all fields are filled"
      - "  - 'Continue' button - click to proceed through multi-step forms"
      - "After filling each section, ALWAYS look for and click Next/Continue/Review buttons"
      - "Don't stay on the same page - always progress forward by clicking navigation buttons"
      - "If you see 'Submit Application', only click it if all required fields are properly filled"

  button_detection:
    title: "CRITICAL BUTTON DETECTION AND PRIORITY"
    rules:
      - "ALWAYS scroll down to check for navigation buttons at the bottom of the page"
      - "Many LinkedIn forms have buttons stuck at the bottom that are not visible without scrolling"
      - "PRIORITY ORDER for clicking buttons:"
      - "  a. First priority: 'Next' button (to move to next section)"
      - "  b. Second priority: 'Continue' button (to proceed)"
      - "  c. Third priority: 'Review' or 'Review Application' (before final submission)"
      - "  d. Fourth priority: 'Submit' or 'Submit Application' (final step)"
      - "After filling ANY form section, immediately look for and click Next/Continue"
      - "If you cannot find navigation buttons, scroll down completely and look again"
      - "Don't wait - click navigation buttons as soon as they're available"

scrolling:
  title: "SCROLLING INSTRUCTIONS"
  rules:
    - "Always scroll down to reveal hidden form elements and buttons"
    - "Some forms have multiple sections that only become visible after scrolling"
    - "Check both top and bottom of the page for navigation buttons"
    - "If stuck, try scrolling to reveal more content or buttons"

navigation_restrictions:
  title: "IMPORTANT - DO NOT CLICK OTHER SECTIONS"
  items_to_avoid:
    - "Other job listings in the background"
    - "'LinkedIn Learning' links or suggestions"
    - "'My Jobs' tab or section"
    - "Navigation menu items (Home, My Network, Messaging, Notifications)"
  instructions:
    - "Focus ONLY on the current application modal"
    - "Do not navigate to other jobs or pages"
    - "The system will automatically move to the next job after this one"
    - "Stay within the current modal/form until completed or closed"

error_handling:
  element_interception:
    title: "ELEMENT INTERCEPTION HANDLING"
    steps:
      - "If you get 'element intercepts pointer events' or similar click failures:"
      - "  - First, look for and dismiss any overlapping modals or popups"
      - "  - Try clicking a different part of the target element"
      - "  - Use keyboard interaction (Tab + Enter) instead of clicking"
      - "  - Press Escape to clear any blocking dialogs"
      - "  - Scroll the element into better view if needed"

  stuck_recovery:
    title: "STUCK STATE RECOVERY"
    steps:
      - "If completely stuck on any form or modal:"
      - "  - PRIORITY: Click the X button in top-right corner of modal (.artdeco-modal__dismiss)"
      - "  - If you see 'Save this application?' dialog after clicking X, click 'Discard'"
      - "  - Look for Close, Cancel, Dismiss, or X buttons"
      - "  - Press Escape key multiple times"
      - "  - Navigate away if nothing else works"
      - "  - Don't waste time - close stuck forms and continue"

  failure_handling:
    title: "FAILURE HANDLING"
    steps:
      - "If you determine the application CANNOT be submitted:"
      - "  - IMMEDIATELY close the modal using the X button"
      - "  - When 'Save this application?' appears, ALWAYS click 'Discard' button"
      - "  - Do not keep trying the same failing action"
      - "  - Report 'Application could not be completed' and close the modal"
      - "  - The system needs the modal closed to move to the next job"
      - "  - Leaving the modal open will block all other jobs"

modal_specific:
  application_modal:
    title: "APPLICATION MODAL HANDLING ('Apply to [Company]' windows)"
    instructions:
      - "When you see a modal with 'Apply to TikTok' or similar header:"
      - "  - This is the main application form window"
      - "  - Complete the form by filling fields and clicking Next/Submit"
      - "  - If you cannot proceed or get stuck:"
      - "    * Look for the X button in the top-right corner of the modal"
      - "    * The dismiss button is usually .artdeco-modal__dismiss"
      - "    * Click it to close the modal and move to next job"
      - "  - Don't leave modals open - either complete or close them"

cdp_scroll_handling:
  safe_navigation:
    title: "SAFE NAVIGATION (NO CDP ERRORS)"
    rules:
      - "AVOID extensive scrolling that triggers CDP position errors"
      - "Use keyboard navigation: Tab, Enter, Space, Arrow keys"
      - "Use element.scrollIntoView() for specific elements only"
      - "Focus on visible elements first before trying to reach hidden ones"

  navigation_rules:
    title: "NAVIGATION RULES (SAFE SCROLLING)"
    rules:
      - "Try Tab navigation to reach form elements first"
      - "Only use minimal scrolling if absolutely necessary"
      - "If scrolling causes errors, use keyboard navigation instead"
      - "Some buttons may be reachable via Tab without scrolling"

  error_recovery:
    title: "CDP ERROR RECOVERY"
    rules:
      - "If scroll causes 'Position out of bounds', stop scrolling"
      - "Switch to Tab navigation for the rest of the form"
      - "If action fails, wait 2 seconds and try again"
      - "Don't retry scrolling actions that cause CDP errors"